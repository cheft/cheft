!function a(b,c,d){function e(g,h){var i,j,k;if(!c[g]){if(!b[g]){if(i="function"==typeof require&&require,!h&&i)return i(g,!0);if(f)return f(g,!0);throw j=new Error("Cannot find module '"+g+"'"),j.code="MODULE_NOT_FOUND",j}k=c[g]={exports:{}},b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}var g,f="function"==typeof require&&require;for(g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){var h,d=a("riot"),e=a("./router"),f=a("minrouter"),g=window.app={};g.render=function(a,b){var c=document.getElementById("app");c.innerHTML="",c.setAttribute("riot-tag",a),d.mount(a,b||{})},h={},g.route=function(a){var b={render:function(b,c){h[a]=function(){g.render(b,c)}}};return{get:function(a){a({},b)}}},e(g),window.onload=function(){var a=g.router=new f({routes:h});a.start()}},{"./router":12,minrouter:7,riot:8}],2:[function(a,b){var d=a("riot");b.exports=d.tag("hello","<test></test> <h1>Hello World</h1>",function(){this.on("mount",function(){this.chain=this.tags.test.chain;var a=this;this.tags.test.on(a.chain,function(){a.trigger(a.chain)})})})},{riot:8}],3:[function(a,b){var d=a("riot");b.exports=d.tag("menu",'<ul class="menu"> <li each="{links}"><a href="{link}" onclick="{holdLink}">{name}</a></li> </ul>',function(){this.links=[{name:"HOME",link:"/"},{name:"TODO",link:"/todo"},{name:"Test",link:"/test"}],this.holdLink=function(a){app.router.hold(a)}})},{riot:8}],4:[function(a,b){var d=a("riot");b.exports=d.tag("test",'<menu></menu> <h2>{name}</h2> <button onclick="{tt}">aaaaaaaaaaa</button> <ul> <li each="{items}"> {position} - {name} </li> </ul>',function(){this.mixin(a("./mixin"))})},{"./mixin":15,riot:8}],5:[function(a,b){var d=a("riot");b.exports=d.tag("todo",'<menu></menu> <h3>{ opts.title }</h3> <ul><li each="{ item, i in items }">{ item }</li></ul> <input name="title"> <button onclick="{add}">Add #{ items.length + 1 }</button>',function(){this.items=[],this.add=function(){this.items.push(this.title.value),this.title.value=""}.bind(this)})},{riot:8}],6:[function(a,b){b.exports={apiRoot:"object"==typeof window?"/api":"http://localhost:3000/api"}},{}],7:[function(a,b,c){!function(){function j(a){this.opts=a,this.routes=a.routes,this.sep=a.sep||"",this.exec(location.pathname),this.holdLinks(a.links||[]),f=this}var a,d,e,f,g,h,i;window&&(a=window,d="pushState"in history,e=d?"popstate":"hashchange",f={},g=[/[\-{}\[\]+?.,\\\^$|#\s]/g,/\((.*?)\)/g,/(\(\?)?:\w+/g,/\*\w+/g],h=function(a){return a=a.replace(g[0],"\\$&").replace(g[1],"(?:$1)?").replace(g[2],function(a,b){return b?a:"([^/?]+)"}).replace(g[3],"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},i=function(a,b){var e,c=a.exec(b).slice(1),d=[];for(e=0;e<c.length;e++)d.push(decodeURIComponent(c[e])||null);return d},j.prototype.exec=function(a){var b,c,d;for(b in this.routes)c=h(b),c.test(a)&&("function"==typeof this.routes[b]?this.routes[b].apply(this,i(c,a)):(d=this.opts[this.routes[b]],d?d.apply(this,i(c,a)):void 0))},j.prototype.emmit=function(a){a=d?a.state.path:location.href.split("#")[1]||"",f.exec(a)},j.prototype.start=function(){a.addEventListener?a.addEventListener(e,this.emmit,!1):a.attachEvent("on"+e,this.emmit)},j.prototype.stop=function(){a.removeEventListener?a.removeEventListener(e,this.emmit,!1):a.detachEvent("on"+e,this.emmit)},j.prototype.go=function(a){d?history.pushState({path:a},document.title,a):"/"!==this.sep&&(location.hash=this.sep+a),this.exec(a)},j.prototype.back=function(){history.back()},j.prototype.hold=function(a){if(a){var b=a.srcElement.pathname;if(d||(b="/"+b),this.go(b),a&&a.preventDefault)a.preventDefault();else if("/"!==this.sep)return a.returnValue=!1,!1}},j.prototype.holdLinks=function(a){for(var b=0;b<a.length;b++)a[b].onclick=function(a){f.hold(a)}},"object"==typeof c?b.exports=j:"function"==typeof define&&define.amd?define(function(){return window.MinRouter=j}):window.MinRouter=j)}("undefined"!=typeof window?window:void 0)},{}],8:[function(a,b,c){!function(a){"use strict";function k(a){var b=i(0),c=a.slice(b.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/);return c?{key:c[1],pos:c[2],val:b+c[3]}:{val:a}}function l(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function m(a,b,c){v(a,"each");var m,d=a.outerHTML,e=a.parentNode,f=document.createComment("riot placeholder"),h=[],i=O(a);e.insertBefore(f,a),c=k(c),b.one("premount",function(){e.stub&&(e=b.root),a.parentNode.removeChild(a)}).on("update",function(){var n,o,q,r,s,k=j(c.val,b);for(g(k)||(m=k?JSON.stringify(k):"",k=k?Object.keys(k).map(function(a){return l(c,a,k[a])}):[]),o=document.createDocumentFragment(),q=h.length,r=k.length;q>r;)h[--q].unmount();for(h.length=r,n=!m&&!!c.key,q=0;r>q;++q)s=n?l(c,k[q],q):k[q],h[q]?h[q].update(s):((h[q]=new p({tmpl:d},{parent:b,isLoop:!0,root:e,item:s})).mount(),o.appendChild(h[q].root)),h[q]._item=s;e.insertBefore(o,f),i&&(b.tags[x(a)]=h)}).one("updated",function(){var a=Object.keys(b);A(e,function(c){1!=c.nodeType||c.isLoop||c._looped||(c._visited=!1,c._looped=!0,G(c,b,a))})})}function n(a,b,c){A(a,function(a){var d,i,e,f,h;if(1==a.nodeType){if(a.isLoop=a.parentNode&&a.parentNode.isLoop||a.getAttribute("each")?1:0,d=O(a),d&&!a.isLoop){for(e=new p(d,{root:a,parent:b},a.innerHTML),f=x(a),h=b;!O(h.root)&&h.parent;)h=h.parent;e.parent=h,i=h.tags[f],i?(g(i)||(h.tags[f]=[i]),h.tags[f].push(e)):h.tags[f]=e,a.innerHTML="",c.push(e)}a.isLoop||G(a,b,[])}})}function o(a,b,c){function d(a,b,d){if(b.indexOf(i(0))>=0){var e={dom:a,expr:b};c.push(y(e,d))}}A(a,function(a){var e,c=a.nodeType;return 3==c&&"STYLE"!=a.parentNode.tagName&&d(a,a.nodeValue),1==c?(e=a.getAttribute("each"))?(m(a,b,e),!1):(t(a.attributes,function(b){var c=b.name,e=c.split("__")[1];return d(a,b.value,{attr:e||c,bool:e}),e?(v(a,c),!1):void 0}),O(a)?!1:void 0):void 0})}function p(a,b,c){function H(){t(r.attributes,function(a){f[a.name]=j(a.value,k||e)}),t(Object.keys(x),function(a){f[a]=j(x[a],k||e)})}function I(a){for(var b in m)"undefined"!=typeof e[b]&&(e[b]=a[b])}function J(){e.parent&&l&&t(Object.keys(e.parent),function(a){var b=~A.indexOf(a);("undefined"==typeof e[a]||b)&&(b||A.push(a),e[a]=e.parent[a])})}function K(a){if(t(q,function(b){b[a?"mount":"unmount"]()}),k){var b=a?"on":"off";l?k[b]("unmount",e.unmount):k[b]("update",e.update)[b]("unmount",e.unmount)}}var C,G,e=d.observable(this),f=F(b.opts)||{},h=z(a.tmpl),k=b.parent,l=b.isLoop,m=b.item,p=[],q=[],r=b.root,u=a.fn,v=r.tagName.toLowerCase(),x={},A=[],E=/([\w\-]+)\s?=\s?['"]([^'"]+)["']/gim;u&&r._tag&&r._tag.unmount(!0),this.isMounted=!1,a.attrs&&(G=a.attrs.match(E),t(G,function(a){var b=a.split(/\s?=\s?/);r.setAttribute(b[0],b[1].replace(/['"]/g,""))})),r._tag=this,this._id=w(~~((new Date).getTime()*Math.random())),y(this,{parent:k,root:r,opts:f,tags:{}},m),t(r.attributes,function(a){var b=a.value;i(/\{.*\}/).test(b)&&(x[a.name]=b)}),h.innerHTML&&!/select|select|optgroup|tbody|tr/.test(v)&&(h.innerHTML=D(h.innerHTML,c)),this.update=function(a){J(),m&&JSON.stringify(m)!=JSON.stringify(a)&&(I(a),m=a),y(e,a),H(),e.trigger("update",a),s(p,e,a),e.trigger("updated")},this.mixin=function(){t(arguments,function(a){a="string"==typeof a?d.mixin(a):a,t(Object.keys(a),function(b){"init"!=b&&(e[b]="function"==typeof a[b]?a[b].bind(e):a[b])}),a.init&&a.init.bind(e)()})},this.mount=function(){if(H(),u&&u.call(e,f),K(!0),o(h,e,p),(!e.parent||l)&&e.update(m),e.trigger("premount"),l)e.root=r=C=h.firstChild;else{for(;h.firstChild;)r.appendChild(h.firstChild);r.stub&&(e.root=r=k.root)}!e.parent||e.parent.isMounted?(e.isMounted=!0,e.trigger("mount")):e.parent.one("mount",function(){B(e.root)||(e.parent.isMounted=e.isMounted=!0,e.trigger("mount"))})},this.unmount=function(a){var b=C||r,c=b.parentNode;if(c){if(k)g(k.tags[v])?t(k.tags[v],function(a,b){a._id==e._id&&k.tags[v].splice(b,1)}):k.tags[v]=void 0;else for(;b.firstChild;)b.removeChild(b.firstChild);a||c.removeChild(b)}e.trigger("unmount"),K(),e.off("*"),r._tag=null},n(h,this,q)}function q(b,c,d,e,f){d[b]=function(b){b=b||a.event;try{b.which||(b.which=b.charCode||b.keyCode),b.target||(b.target=b.srcElement),b.currentTarget=d}catch(g){}if(b.item=e._item?e._item:f,c.call(e,b)===!0||/radio|check/.test(d.type)||(b.preventDefault&&b.preventDefault(),b.returnValue=!1),!b.preventUpdate){var h=f?e.parent:e;h.update()}}}function r(a,b,c){a&&(a.insertBefore(c,b),a.removeChild(b))}function s(a,b,c){t(a,function(a){var i,e=a.dom,f=a.attr,g=j(a.expr,b),h=a.dom.parentNode;if(null==g&&(g=""),h&&"TEXTAREA"==h.tagName&&(g=g.replace(/riot-/g,"")),a.value!==g){if(a.value=g,!f)return e.nodeValue=g.toString();if(v(e,f),"function"==typeof g)q(f,g,e,b,c);else if("if"==f)i=a.stub,g?i&&(r(i.parentNode,i,e),e.inStub=!1,B(e)||A(e,function(a){a._tag&&!a._tag.isMounted&&(a._tag.isMounted=!!a._tag.trigger("mount"))})):(i=a.stub=i||document.createTextNode(""),r(e.parentNode,e,i),e.inStub=!0);else if(/^(show|hide)$/.test(f))"hide"==f&&(g=!g),e.style.display=g?"":"none";else if("value"==f)e.value=g;else if("riot-"==f.slice(0,5)&&"riot-tag"!=f)f=f.slice(5),g?e.setAttribute(f,g):v(e,f);else{if(a.bool){if(e[f]=g,!g)return;g=f}"object"!=typeof g&&e.setAttribute(f,g)}}})}function t(a,b){for(var e,c=0,d=(a||[]).length;d>c;c++)e=a[c],null!=e&&b(e,c)===!1&&c--;return a}function u(a){return"function"==typeof a||!1}function v(a,b){a.removeAttribute(b)}function w(a){return(a^a>>31)-(a>>31)}function x(a){var b=O(a),c=a.getAttribute("name"),d=c&&c.indexOf(i(0))<0?c:b.name;return d}function y(a){var b,d,e,c=arguments;for(d=1;d<c.length;++d)if(b=c[d])for(e in b)a[e]=b[e];return a}function z(a){var b=h&&10>h,c=/^\s*<([\w-]+)/.exec(a),d=c?c[1].toLowerCase():"",e="th"===d||"td"===d?"tr":"tr"===d?"tbody":"div",f=C(e);return f.stub=!0,b&&("optgroup"===d?J(f,a):"option"===d?I(f,a):"div"!==e?H(f,a,d):b=0),b||(f.innerHTML=a),f}function A(a,b){if(a)if(b(a)===!1)A(a.nextSibling,b);else for(a=a.firstChild;a;)A(a,b),a=a.nextSibling}function B(a){for(;a;){if(a.inStub)return!0;a=a.parentNode}return!1}function C(a){return document.createElement(a)}function D(a,b){return a.replace(/<(yield)\/?>(<\/\1>)?/gim,b||"")}function E(a,b){return(b||document).querySelectorAll(a)}function F(a){function b(){}return b.prototype=a,new b}function G(a,b,c){t(a.attributes,function(d){if(!a._visited&&("id"===d.name||"name"===d.name)){a._visited=!0;var e,f=d.value;if(~c.indexOf(f))return;e=b[f],e?g(e)?e.push(a):b[f]=[e,a]:b[f]=a}})}function H(a,b,c){var f,d=C("div"),e=/td|th/.test(c)?3:2;for(d.innerHTML="<table>"+b+"</table>",f=d.firstChild;e--;)f=f.firstChild;a.appendChild(f)}function I(a,b){var c=C("option"),d=/value=[\"'](.+?)[\"']/,e=/selected=[\"'](.+?)[\"']/,f=/each=[\"'](.+?)[\"']/,g=/if=[\"'](.+?)[\"']/,h=/>([^<]*)</,i=b.match(d),j=b.match(e),k=b.match(h),l=b.match(f),m=b.match(g);c.innerHTML=k?k[1]:b,i&&(c.value=i[1]),j&&c.setAttribute("riot-selected",j[1]),l&&c.setAttribute("each",l[1]),m&&c.setAttribute("if",m[1]),a.appendChild(c)}function J(a,b){var k,l,c=C("optgroup"),d=/label=[\"'](.+?)[\"']/,e=/^<([^>]*)>/,f=/^<([^ \>]*)/,g=b.match(d),h=b.match(e),i=b.match(f),j=b;h&&(k=b.slice(h[1].length+2,-i[1].length-3).trim(),j=k),g&&c.setAttribute("riot-label",g[1]),j&&(l=C("div"),I(l,j),c.appendChild(l.firstChild)),a.appendChild(c)}function O(a){return L[a.getAttribute(N)||a.tagName.toLowerCase()]}function P(a){if(M=M||C("style"),document.head){if(M.styleSheet?M.styleSheet.cssText+=a:M.innerHTML+=a,!M._rendered)if(M.styleSheet)document.body.appendChild(M);else{var b=E("style[type=riot]")[0];b?(b.parentNode.insertBefore(M,b),b.parentNode.removeChild(b)):document.head.appendChild(M)}M._rendered=!0}}function Q(a,b,c){var d=L[b],e=a._innerHTML=a._innerHTML||a.innerHTML;return a.innerHTML="",d&&a&&(d=new p(d,{root:a,opts:c},e)),d&&d.mount?(d.mount(),K.push(d),d.on("unmount",function(){K.splice(K.indexOf(d),1)})):void 0}var i,j,M,K,L,N,d={version:"v2.2.2-beta",settings:{}},e="string",f="object",g=Array.isArray||function(){var a=Object.prototype.toString;return function(b){return"[object Array]"===a.call(b)}}(),h=function(a){return 0|(a&&a.document||{}).documentMode}(a);d.observable=function(a){a=a||{};var b={},c=0;return a.on=function(d,e){return u(e)&&(e._id="undefined"==typeof e._id?c++:e._id,d.replace(/\S+/g,function(a,c){(b[a]=b[a]||[]).push(e),e.typed=c>0})),a},a.off=function(c,d){return"*"==c?b={}:c.replace(/\S+/g,function(a){var c,f,e;if(d)for(c=b[a],e=0;f=c&&c[e];++e)f._id==d._id&&(c.splice(e,1),e--);else b[a]=[]}),a},a.one=function(b,c){function d(){a.off(b,d),c.apply(a,arguments)}return a.on(b,d)},a.trigger=function(c){var g,f,d=[].slice.call(arguments,1),e=b[c]||[];for(f=0;g=e[f];++f)g.busy||(g.busy=1,g.apply(a,g.typed?[c].concat(d):d),e[f]!==g&&f--,g.busy=0);return b.all&&"all"!=c&&a.trigger.apply(a,["all",c].concat(d)),a},a},d.mixin=function(){var a={};return function(b,c){return c?(a[b]=c,void 0):a[b]}}(),function(a,b,c){function i(){return d.href.split("#")[1]||""}function j(a){return a.split("/")}function k(a){a.type&&(a=i()),a!=h&&(e.trigger.apply(null,["H"].concat(j(a))),h=a)}var h,d,e,f,g,l;c&&(d=c.location,e=a.observable(),f=c,g=!1,l=a.route=function(a){a[0]?(d.hash=a,k(a)):e.on("H",a)},l.exec=function(a){a.apply(null,j(i()))},l.parser=function(a){j=a},l.stop=function(){g&&(f.removeEventListener?f.removeEventListener(b,k,!1):f.detachEvent("on"+b,k),e.off("*"),g=!1)},l.start=function(){g||(f.addEventListener?f.addEventListener(b,k,!1):f.attachEvent("on"+b,k),g=!0)},l.start())}(d,"hashchange",a),i=function(a){var b,c,e,f=/[{}]/g;return function(g){var h=d.settings.brackets||a;return b!==h&&(b=h,e=h.split(" "),c=e.map(function(a){return a.replace(/(?=.)/g,"\\")})),g instanceof RegExp?h===a?g:new RegExp(g.source.replace(f,function(a){return c[~~("}"===a)]}),g.global?"g":""):e[g]}}("{ }"),j=function(){function d(a,b){return a=(a||i(0)+i(1)).replace(i(/\\{/g),"￰").replace(i(/\\}/g),"￱"),b=g(a,h(a,i(/{/),i(/}/))),new Function("d","return "+(b[0]||b[2]||b[3]?"["+b.map(function(a,b){return b%2?e(a,!0):'"'+a.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':e(b[1])).replace(/\uFFF0/g,i(0)).replace(/\uFFF1/g,i(1))+";")}function e(a,b){return a=a.replace(/\n/g," ").replace(i(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(a)?"["+h(a,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(a){return a.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(a,b,c){return c.replace(/[^&|=!><]+/g,f)+'?"'+b+'":"",'})}).join("")+'].join(" ").trim()':f(a,b)}function f(b,d){return b=b.trim(),b?"(function(v){try{v="+(b.replace(c,function(b,c,d){return d?"(d."+d+"===undefined?"+("undefined"==typeof a?"global.":"window.")+d+":d."+d+")":b})||"x")+"}catch(e){"+"}finally{return "+(d===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function g(a,b){var c=[];return b.map(function(b,d){d=a.indexOf(b),c.push(a.slice(0,d),b),a=a.slice(d+b.length)}),c.concat(a)}function h(a,b,c){var d,e=0,f=[],g=new RegExp("("+b.source+")|("+c.source+")","g");return a.replace(g,function(b,c,g,h){!e&&c&&(d=h),e+=c?1:-1,e||null==g||f.push(a.slice(d,h+g.length))}),f}var b={},c=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(a,c){return a&&(b[a]=b[a]||d(a))(c)}}(),K=[],L={},N="riot-tag",d.tag=function(a,b,c,d,e){return u(d)&&(e=d,/^[\w\-]+\s?=/.test(c)?(d=c,c=""):d=""),c&&(u(c)?e=c:P(c)),L[a]={name:a,tmpl:b,attrs:d,fn:e},a},d.mount=function(a,b,c){function i(a){var b="";return t(a,function(a){b+=', *[riot-tag="'+a.trim()+'"]'}),b}function j(){var a=Object.keys(L);return a+i(a)}function k(a){if(a.tagName){b&&!a.getAttribute(N)&&a.setAttribute(N,b);var d=Q(a,b||a.getAttribute(N)||a.tagName.toLowerCase(),c);d&&h.push(d)}else a.length&&t(a,k)}var d,g,l,h=[];return typeof b===f&&(c=b,b=0),typeof a===e?("*"===a?a=g=j():a+=i(a.split(",")),d=E(a)):d=a,"*"===b&&(b=g||j(),d.tagName?d=E(b,d):(l=[],t(d,function(a){l.push(E(b,a))}),d=l),b=0),d.tagName?k(d):t(d,k),h},d.update=function(){return t(K,function(a){a.update()})},d.mountTo=d.mount,d.util={brackets:i,tmpl:j},"object"==typeof c?b.exports=d:"function"==typeof define&&define.amd?define(function(){return a.riot=d}):a.riot=d}("undefined"!=typeof window?window:void 0)},{}],9:[function(a,b){function g(){}function h(a){var b={}.toString.call(a);switch(b){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function j(a){return a===Object(a)}function k(a){var b,c;if(!j(a))return a;b=[];for(c in a)null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function l(a){var d,e,f,g,b={},c=a.split("&");for(f=0,g=c.length;g>f;++f)e=c[f],d=e.split("="),b[decodeURIComponent(d[0])]=decodeURIComponent(d[1]);return b}function m(a){var d,e,f,g,h,j,b=a.split(/\r?\n/),c={};for(b.pop(),h=0,j=b.length;j>h;++h)e=b[h],d=e.indexOf(":"),f=e.slice(0,d).toLowerCase(),g=i(e.slice(d+1)),c[f]=g;return c}function n(a){return a.split(/ *; */).shift()}function o(a){return e(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})}function p(a,b){b=b||{},this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=m(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function q(a,b){var c=this;d.call(this),this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var e,a=null,b=null;try{b=new p(c)}catch(d){return a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=d,c.callback(a)}return c.emit("response",b),a?c.callback(a,b):b.status>=200&&b.status<300?c.callback(a,b):(e=new Error(b.statusText||"Unsuccessful HTTP response"),e.original=a,e.response=b,e.status=b.status,c.callback(a||e,b),void 0)})}function r(a,b){return"function"==typeof b?new q("GET",a).end(b):1==arguments.length?new q("GET",a):new q(a,b)}var i,d=a("emitter"),e=a("reduce"),f="undefined"==typeof window?this||self:window;r.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1},i="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")},r.serializeObject=k,r.parseString=l,r.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},r.serialize={"application/x-www-form-urlencoded":k,"application/json":JSON.stringify},r.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},p.prototype.get=function(a){return this.header[a.toLowerCase()]},p.prototype.setHeaderProperties=function(){var c,d,b=this.header["content-type"]||"";this.type=n(b),c=o(b);for(d in c)this[d]=c[d]},p.prototype.parseBody=function(a){var b=r.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null},p.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=0|a/100;this.status=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.clientError=4==b,this.serverError=5==b,this.error=4==b||5==b?this.toError():!1,this.accepted=202==a,this.noContent=204==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.notFound=404==a,this.forbidden=403==a},p.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},r.Response=p,d(q.prototype),q.prototype.use=function(a){return a(this),this},q.prototype.timeout=function(a){return this._timeout=a,this},q.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},q.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},q.prototype.set=function(a,b){if(j(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},q.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},q.prototype.getHeader=function(a){return this._header[a.toLowerCase()]},q.prototype.type=function(a){return this.set("Content-Type",r.types[a]||a),this},q.prototype.accept=function(a){return this.set("Accept",r.types[a]||a),this},q.prototype.auth=function(a,b){var c=btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},q.prototype.query=function(a){return"string"!=typeof a&&(a=k(a)),a&&this._query.push(a),this},q.prototype.field=function(a,b){return this._formData||(this._formData=new f.FormData),this._formData.append(a,b),this},q.prototype.attach=function(a,b,c){return this._formData||(this._formData=new f.FormData),this._formData.append(a,b,c),this},q.prototype.send=function(a){var d,b=j(a),c=this.getHeader("Content-Type");if(b&&j(this._data))for(d in a)this._data[d]=a[d];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==c?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;return!b||h(a)?this:(c||this.type("json"),this)},q.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout(),c(a,b)},q.prototype.crossDomainError=function(){var a=new Error("Origin is not allowed by Access-Control-Allow-Origin");a.crossDomain=!0,this.callback(a)},q.prototype.timeoutError=function(){var a=this._timeout,b=new Error("timeout of "+a+"ms exceeded");b.timeout=a,this.callback(b)},q.prototype.withCredentials=function(){return this._withCredentials=!0,this},q.prototype.end=function(a){var i,k,l,b=this,c=this.xhr=r.getXHR(),d=this._query.join("&"),e=this._timeout,f=this._formData||this._data;this._callback=a||g,c.onreadystatechange=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=0}if(0==a){if(b.timedout)return b.timeoutError();if(b.aborted)return;return b.crossDomainError()}b.emit("end")}},i=function(a){a.total>0&&(a.percent=100*(a.loaded/a.total)),b.emit("progress",a)},this.hasListeners("progress")&&(c.onprogress=i);try{c.upload&&this.hasListeners("progress")&&(c.upload.onprogress=i)}catch(j){}e&&!this._timer&&(this._timer=setTimeout(function(){b.timedout=!0,b.abort()},e)),d&&(d=r.serializeObject(d),this.url+=~this.url.indexOf("?")?"&"+d:"?"+d),c.open(this.method,this.url,!0),this._withCredentials&&(c.withCredentials=!0),"GET"==this.method||"HEAD"==this.method||"string"==typeof f||h(f)||(k=r.serialize[this.getHeader("Content-Type")],k&&(f=k(f)));for(l in this.header)null!=this.header[l]&&c.setRequestHeader(l,this.header[l]);return this.emit("request",this),c.send(f),this},r.Request=q,r.get=function(a,b,c){var d=r("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},r.head=function(a,b,c){var d=r("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},r.del=function(a,b){var c=r("DELETE",a);return b&&c.end(b),c},r.patch=function(a,b,c){var d=r("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},r.post=function(a,b,c){var d=r("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},r.put=function(a,b,c){var d=r("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},b.exports=r},{emitter:10,reduce:11}],10:[function(a,b){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function d(){c.off(a,d),b.apply(this,arguments)}var c=this;return this._callbacks=this._callbacks||{},d.fn=b,this.on(a,d),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){var c,d,e;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(c=this._callbacks[a],!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){var b,c,d,e;if(this._callbacks=this._callbacks||{},b=[].slice.call(arguments,1),c=this._callbacks[a],c)for(c=c.slice(0),d=0,e=c.length;e>d;++d)c[d].apply(this,b);return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],11:[function(a,b){b.exports=function(a,b,c){for(var d=0,e=a.length,f=3==arguments.length?c:a[d++];e>d;)f=b.call(null,f,a[d],++d,a);return f}},{}],12:[function(a,b){b.exports=function(a){a.route("/").get(function(a,b){b.render("hello")}),a.route("/todo").get(function(a,b){b.render("todo")}),a.route("/test").get(function(a,b){b.render("test")})}},{}],13:[function(a,b){var d,e,f,g;for(d=e={version:"0.0.1"},f=Object.prototype.toString,g=["Function","Object","String","Array","Number","Boolean","Date","RegExp","Undefined","Null"],fn=function(a){return d["is"+a]=function(b){return f.call(b)==="[object "+a+"]"}},i=0,len=g.length;len>i;i++)item=g[i],fn(item);d.extend=function(){var a,b,c,d,e,f,g;if(f=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],!f)return f;for(a=0,c=e.length;c>a;a++){d=e[a];for(b in d)g=d[b],f[b]=g}return f},d.isServer=function(){return"object"!=typeof window},d.isClient=function(){return"object"==typeof window},b.exports=d},{}],14:[function(a,b){var d=a("superagent"),e=a("../config");b.exports={get:function(a,b){d.get(e.apiRoot+a).set("Accept","application/json").end(function(a,c){b(c.body,a)})}}},{"../config":6,superagent:9}],15:[function(a,b){var d=a("../../src/store"),e=a("../../src/cheft");b.exports={init:function(){this.chain="data",this.name="11111";var a=this;this.on("mount",function(){e.isClient()&&(document.getElementById("app"),window.tag=this),console.log("mount")}),d.get("/",function(b){a.items=b,a.update(),a.trigger("data")})},tt:function(){console.log(2222)}}},{"../../src/cheft":13,"../../src/store":14}]},{},[1,2,3,4,5]);